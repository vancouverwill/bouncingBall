{"version":3,"sources":["index.js"],"names":["_classCallCheck","instance","Constructor","TypeError","myCanvas","canvasHeight","canvasWidth","PageSetUp","this","setWidth","width","setHeight","height","setCanvasSize","document","body","clientHeight","clientWidth","getElementById","bodySetUp","canvas","Canvas","addEventListener","addBall","bind","window","onresize","_this","event","ball","BouncingBall","create","clientX","clientY","balls","push","animation_active","draw","context","clearRect","map","index","updatePosition","drawBall","filter","isInXAxis","length","cancelAnimationFrame","raf","requestAnimationFrame","x","pointRadius","beginPath","fillStyle","colour","arc","y","Math","PI","closePath","fill","getContext","refreshIntervalId","_this2","startingX","startingY","getRandomColor","dy","dampingRate","dx","gravityRate","letters","split","color","i","floor","random"],"mappings":"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","file":"index.js","sourcesContent":["/* exported bodySetUp */\n\"use strict\";\n\n\nvar myCanvas, canvasHeight, canvasWidth;\n\nclass PageSetUp {\n\tstatic setWidth = () => {\n\t\tmyCanvas.width = canvasWidth;\n\t}\n\n\tstatic setHeight = () => {\n\t\tmyCanvas.height = canvasHeight;\n\t}\n\n\tstatic setCanvasSize = () => {\n\t\tcanvasHeight = document.body.clientHeight;\n\t\tcanvasWidth = document.body.clientWidth;\n\t\tmyCanvas = document.getElementById(\"myCanvas\");  \n\t\tPageSetUp.setWidth();\n\t\tPageSetUp.setHeight();\n\t}\n}\n\nvar bodySetUp = function() {\n\tPageSetUp.setCanvasSize();\n\tvar canvas = new Canvas();\n\tmyCanvas.addEventListener(\"click\", canvas.addBall.bind(canvas), false);\n};\n\nwindow.onresize = PageSetUp.setCanvasSize;\n\n\nlet instance = null;\n\nclass Canvas {\n\tconstructor() {\n\t\tif(!instance){\n\t\t\tinstance = this;\n\t\t\tthis.animation_active = false;\n\t\t}\n\n\t\tthis.balls = [];\n\t\tthis.context = myCanvas.getContext(\"2d\");\n\t\tthis.refreshIntervalId;\n\t\tthis.raf;\n\n\t\treturn instance;\n\t}\n\n\taddBall = (event) => {\n\t\tvar ball = new BouncingBall();\n\t\tball.create(event.clientX, event.clientY);\n\n\t\tthis.balls.push(ball);\n\n\t\tif (this.animation_active === false) {\n\t\t\tthis.draw();\n\t\t\tthis.animation_active = true;\n\t\t}\n\t}\n\n\tdraw = () =>\n\t{\n\t\tthis.context.clearRect(0, 0, canvasWidth, canvasHeight);\n\t\t\n\t\tthis.balls = this.balls.map(function(ball, index) {\n\t\t\tball.updatePosition();\n\t\t\tthis.drawBall(ball);\n\t\t\t\treturn ball;\n\t\t}, this);\n\n\t\tthis.balls = this.balls.filter(this.isInXAxis);\n\n\t\tif (this.balls.length == 0) {\n\t\t\twindow.cancelAnimationFrame(this.raf);\n\t\t\tthis.animation_active = false;\n\t\t\treturn;\n\t\t}\n\n\t\tthis.raf = window.requestAnimationFrame(this.draw.bind(this));\n\t}\n\n\tisInXAxis = (ball) =>\n\t{\n\t\tif ( ball.x > canvasWidth + ball.pointRadius) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tdrawBall = (ball) =>\n\t{\n\t\tthis.context.beginPath();\n\t\tthis.context.fillStyle= ball.colour;\n\t\tthis.context.arc(ball.x, ball.y, ball.pointRadius, 0, Math.PI*2, true);\n\t\tthis.context.closePath();\n\t\tthis.context.fill();\n\t}\n}\n\n\nclass  BouncingBall {\n\tconstructor() {\n\t\t\n\t\tthis.x, this.y;\n\t\tthis.dx = Math.random() * 2 + 0.5;\n\t\tthis.dy = Math.random() * -8 - 1;\n\n\t\tthis.pointRadius = 5;\n\n\t\tthis.gravityRate = 0.1;\n\t\tthis.dampingRate = 0.8;\n\n\t\tthis.colour;\n\n\t}\n\n\tcreate = (startingX, startingY) =>\n\t{\n\t\tthis.x = startingX;\n\t\tthis.y = startingY;\n\n\t\tthis.colour = this.getRandomColor();\n\n\t\t\n\t}\n\n\tupdatePosition = () => {\n\t\tif(this.y > canvasHeight) {\n\t\t\tthis.y = canvasHeight;\n\t\t\tthis.dy = -this.dy * this.dampingRate; \n\t\t}\n\t\tthis.x += this.dx; \n\t\tthis.y += this.dy;\n\n\t\tthis.dy = this.dy + this.gravityRate;\n\t}\n\n\tgetRandomColor = () => {\n\t\tvar letters = \"0123456789ABCDEF\".split(\"\");\n\t\tvar color = \"#\";\n\t\tfor (var i = 0; i < 6; i++ ) {\n\t\t\tcolor += letters[Math.floor(Math.random() * 16)];\n\t\t}\n\t\treturn color;\n\t}\t\n}\n"],"sourceRoot":"/source/"}