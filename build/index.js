"use strict";function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}var myCanvas,canvasHeight,canvasWidth,PageSetUp=function t(){_classCallCheck(this,t)};PageSetUp.setWidth=function(){myCanvas.width=canvasWidth},PageSetUp.setHeight=function(){myCanvas.height=canvasHeight},PageSetUp.setCanvasSize=function(){canvasHeight=document.body.clientHeight,canvasWidth=document.body.clientWidth,myCanvas=document.getElementById("myCanvas"),PageSetUp.setWidth(),PageSetUp.setHeight()};var bodySetUp=function(){PageSetUp.setCanvasSize();var t=new Canvas;myCanvas.addEventListener("click",t.addBall.bind(t),!1)};window.onresize=PageSetUp.setCanvasSize;var instance=null,Canvas=function a(){var t=this;return _classCallCheck(this,a),this.addBall=function(a){var n=new BouncingBall;n.create(a.clientX,a.clientY),t.balls.push(n),t.animation_active===!1&&(t.draw(),t.animation_active=!0)},this.draw=function(){return t.context.clearRect(0,0,canvasWidth,canvasHeight),t.balls=t.balls.map(function(t,a){return t.updatePosition(),this.drawBall(t),t},t),t.balls=t.balls.filter(t.isInXAxis),0==t.balls.length?(window.cancelAnimationFrame(t.raf),void(t.animation_active=!1)):void(t.raf=window.requestAnimationFrame(t.draw.bind(t)))},this.isInXAxis=function(t){return!(t.x>canvasWidth+t.pointRadius)},this.drawBall=function(a){t.context.beginPath(),t.context.fillStyle=a.colour,t.context.arc(a.x,a.y,a.pointRadius,0,2*Math.PI,!0),t.context.closePath(),t.context.fill()},instance||(instance=this,this.animation_active=!1),this.balls=[],this.context=myCanvas.getContext("2d"),this.refreshIntervalId,this.raf,instance},BouncingBall=function n(){var t=this;_classCallCheck(this,n),this.create=function(a,n){t.x=a,t.y=n,t.colour=t.getRandomColor()},this.updatePosition=function(){t.y>canvasHeight&&(t.y=canvasHeight,t.dy=-t.dy*t.dampingRate),t.x+=t.dx,t.y+=t.dy,t.dy=t.dy+t.gravityRate},this.getRandomColor=function(){for(var t="0123456789ABCDEF".split(""),a="#",n=0;6>n;n++)a+=t[Math.floor(16*Math.random())];return a},this.x,this.y,this.dx=2*Math.random()+.5,this.dy=-8*Math.random()-1,this.pointRadius=5,this.gravityRate=.1,this.dampingRate=.8,this.colour};
//# sourceMappingURL=index.js.map
